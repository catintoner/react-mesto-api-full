{"ast":null,"code":"import _classCallCheck from\"C:/Users/ASUS/dev/mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/ASUS/dev/mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._baseUrl=options.baseUrl;this._headers=options.headers;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers}).then(this._checkResponse);}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:this._headers}).then(this._checkResponse);}},{key:\"setUserInfo\",value:function setUserInfo(_ref){var name=_ref.name,about=_ref.about;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(this._checkResponse);}},{key:\"addNewCard\",value:function addNewCard(_ref2){var name=_ref2.name,link=_ref2.link;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(this._checkResponse);}},{key:\"deleteCard\",value:function deleteCard(cardId){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId),{method:'DELETE',headers:this._headers}).then(this._checkResponse);}},{key:\"addLike\",value:function addLike(cardId){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:'PUT',headers:this._headers}).then(this._checkResponse);}},{key:\"removeLike\",value:function removeLike(cardId){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:'DELETE',headers:this._headers}).then(this._checkResponse);}},{key:\"editAvatar\",value:function editAvatar(_ref3){var avatar=_ref3.avatar;return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(this._checkResponse);}}]);return Api;}();export var api=new Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-42',headers:{authorization:\"1a2b710a-03a9-4348-9fbe-153973737ce6\",'Content-Type':'application/json'}});// '1a2b710a-03a9-4348-9fbe-153973737ce6'","map":{"version":3,"names":["Api","options","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","name","about","method","body","JSON","stringify","link","cardId","avatar","api","authorization"],"sources":["C:/Users/ASUS/dev/mesto-auth/src/utils/Api.js"],"sourcesContent":["class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, { headers: this._headers })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, { headers: this._headers })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  setUserInfo({ name, about }) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  addNewCard({ name, link }) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link\r\n      })\r\n    })\r\n\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  addLike(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n      method: 'PUT',\r\n      headers: this._headers\r\n    })\r\n\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n\r\n  removeLike(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  editAvatar({ avatar }) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatar\r\n      })\r\n    })\r\n\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-42',\r\n  headers: {\r\n    authorization: `1a2b710a-03a9-4348-9fbe-153973737ce6`,\r\n    'Content-Type': 'application/json'\r\n  }\r\n})\r\n\r\n// '1a2b710a-03a9-4348-9fbe-153973737ce6'\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}